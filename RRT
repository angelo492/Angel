-- RRX ELITE V15 - PLATINUM EDITION
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local LocalPlayer = Players.LocalPlayer
local Camera = workspace.CurrentCamera

local States = {
	Visible = true,
	Speed = 16,
	SilentAim = false,
	Tracers3D = false,
	RevealRoles = false, -- Nueva opciÃ³n
	HitboxSize = 2
}

-- UI SYSTEM
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "RRX_V15"
ScreenGui.ResetOnSpawn = false
pcall(function() ScreenGui.Parent = game:GetService("CoreGui") end)
if not ScreenGui.Parent then ScreenGui.Parent = LocalPlayer.PlayerGui end

local Main = Instance.new("Frame")
Main.Size = UDim2.new(0, 190, 0, 350)
Main.Position = UDim2.new(0.5, -95, 0.5, -175)
Main.BackgroundColor3 = Color3.fromRGB(12, 12, 12)
Main.BorderSizePixel = 0
Main.Active = true
Main.Draggable = true 
Main.ClipsDescendants = true
Main.Parent = ScreenGui

local Corner = Instance.new("UICorner", Main)
local Stroke = Instance.new("UIStroke", Main)
Stroke.Color = Color3.fromRGB(255, 0, 4)
Stroke.Thickness = 1.8

-- HEADER
local Header = Instance.new("Frame")
Header.Size = UDim2.new(1, 0, 0, 35)
Header.BackgroundColor3 = Color3.fromRGB(20, 0, 0)
Header.Parent = Main

local Title = Instance.new("TextLabel")
Title.Text = "ðŸº RRX V15 PRO"
Title.Size = UDim2.new(1, -40, 1, 0)
Title.Position = UDim2.new(0, 10, 0, 0)
Title.TextColor3 = Color3.new(1,1,1)
Title.Font = Enum.Font.GothamBold
Title.TextXAlignment = Enum.TextXAlignment.Left
Title.BackgroundTransparency = 1
Title.Parent = Header

local MinBtn = Instance.new("TextButton")
MinBtn.Size = UDim2.new(0, 30, 0, 30)
MinBtn.Position = UDim2.new(1, -35, 0, 2)
MinBtn.Text = "-"
MinBtn.TextColor3 = Color3.new(1,1,1)
MinBtn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
MinBtn.Font = Enum.Font.GothamBold
MinBtn.Parent = Header
Instance.new("UICorner", MinBtn)

MinBtn.MouseButton1Click:Connect(function()
	States.Visible = not States.Visible
	Main:TweenSize(States.Visible and UDim2.new(0, 190, 0, 350) or UDim2.new(0, 190, 0, 35), "Out", "Quart", 0.3, true)
	MinBtn.Text = States.Visible and "-" or "+"
end)

local Scroll = Instance.new("ScrollingFrame")
Scroll.Size = UDim2.new(1, -10, 1, -45)
Scroll.Position = UDim2.new(0, 5, 0, 40)
Scroll.BackgroundTransparency = 1
Scroll.CanvasSize = UDim2.new(0, 0, 1.8, 0)
Scroll.ScrollBarThickness = 0
Scroll.Parent = Main

local List = Instance.new("UIListLayout", Scroll)
List.Padding = UDim.new(0, 5)

local function AddToggle(text, callback)
	local b = Instance.new("TextButton", Scroll)
	b.Size = UDim2.new(1, 0, 0, 35)
	b.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
	b.Text = "  " .. text
	b.TextColor3 = Color3.fromRGB(200, 200, 200)
	b.Font = Enum.Font.GothamMedium
	b.TextXAlignment = Enum.TextXAlignment.Left
	Instance.new("UICorner", b)
	
	local active = false
	b.MouseButton1Click:Connect(function()
		active = not active
		b.BackgroundColor3 = active and Color3.fromRGB(150, 0, 0) or Color3.fromRGB(30, 30, 30)
		b.TextColor3 = active and Color3.new(1,1,1) or Color3.fromRGB(200, 200, 200)
		callback(active)
	end)
end

-----------------------------------------------------------
-- LÃ“GICA DE ROLES Y VISUALES BLANCOS
-----------------------------------------------------------
local TracerFolder = Instance.new("Folder", workspace)
TracerFolder.Name = "RRX_Tracers_V15"

local function GetRoleColor(p)
	if p.Character then
		local tool = p.Character:FindFirstChildOfClass("Tool") or p.Backpack:FindFirstChildOfClass("Tool")
		if tool then
			local n = tool.Name:lower()
			if n:find("gun") or n:find("revolver") then return Color3.fromRGB(0, 140, 255) -- AZUL
			elseif n:find("knife") or n:find("blade") then return Color3.fromRGB(255, 0, 0) -- ROJO
			end
		end
	end
	return Color3.fromRGB(0, 255, 0) -- VERDE
end

RunService.RenderStepped:Connect(function()
	TracerFolder:ClearAllChildren()
	for _, p in pairs(Players:GetPlayers()) do
		if p ~= LocalPlayer and p.Character and p.Character:FindFirstChild("HumanoidRootPart") then
			local char = p.Character
			local hrp = char.HumanoidRootPart
			
			-- ESP ROLES
			local high = char:FindFirstChild("RRX_H") or Instance.new("Highlight", char)
			high.Name = "RRX_H"
			if States.RevealRoles then
				high.Enabled = true
				high.FillColor = GetRoleColor(p)
				high.OutlineColor = Color3.new(1,1,1)
			else
				high.Enabled = false
			end

			-- LÃNEAS 3D BLANCAS
			if States.Tracers3D then
				local p1 = Instance.new("Part", TracerFolder)
				p1.Transparency, p1.CanCollide, p1.Anchored = 1, false, true
				p1.Position = (LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")) and LocalPlayer.Character.HumanoidRootPart.Position or Vector3.new(0,0,0)
				
				local p2 = Instance.new("Part", TracerFolder)
				p2.Transparency, p2.CanCollide, p2.Anchored = 1, false, true
				p2.Position = hrp.Position
				
				local Beam = Instance.new("Beam", p1)
				Beam.Attachment0 = Instance.new("Attachment", p1)
				Beam.Attachment1 = Instance.new("Attachment", p2)
				Beam.Color = ColorSequence.new(Color3.new(1, 1, 1)) -- BLANCO
				Beam.Width0, Beam.Width1 = 0.04, 0.04
				Beam.FaceCamera = true
			end

			-- HITBOX TRASPASABLE
			if States.HitboxSize > 2 then
				hrp.Size = Vector3.new(States.HitboxSize, States.HitboxSize, States.HitboxSize)
				hrp.Transparency = 0.8
				hrp.CanCollide = false
			else
				hrp.Size = Vector3.new(2, 2, 1)
				hrp.CanCollide = true
			end
		end
	end
end)

-- MENU
AddToggle("Silent Aim Universal", function(v) States.SilentAim = v end)
AddToggle("LÃ­neas 3D (Blancas)", function(v) States.Tracers3D = v end)
AddToggle("Revelar Roles (MM2)", function(v) States.RevealRoles = v end)
AddToggle("Hitbox Traspasable", function(v) States.HitboxSize = v and 12 or 2 end)
AddToggle("Velocidad Pro (22)", function(v) States.Speed = v and 22 or 16 end)

RunService.Heartbeat:Connect(function()
	if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
		LocalPlayer.Character.Humanoid.WalkSpeed = States.Speed
	end
end)

print("RRX V15 Platinum: LÃ­neas Blancas y Revelar Roles activos.")
          
